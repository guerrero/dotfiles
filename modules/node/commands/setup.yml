---
- name: Run task dependencies
  include_tasks: "{{ playbook_dir }}/lib/dependencies/{{ item }}.yml"
  loop:
    - os_is_mac
    - homebrew_is_installed

- name: Ensure ~/Library/pnpm directory exists.
  file:
    path: ~/Library/pnpm
    state: directory

- block:
  - name: Install pnpm
    homebrew:
      name: pnpm
      state: latest
  when:
    - os_is_mac
    - homebrew_is_installed
